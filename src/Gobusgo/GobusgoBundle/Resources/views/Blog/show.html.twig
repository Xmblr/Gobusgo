{% extends '@GobusgoGobusgo/Blog/layout.html.twig' %}

{% block body %}
    {#{% sonata_template_box 'This is the post template. Feel free to override it.' %}#}

    {#{% block sonata_page_breadcrumb %}#}
        {#<div class="row-fluid clearfix">#}
            {#{{ sonata_block_render_event('breadcrumb', { 'context': 'news_post', 'post': post, 'current_uri': app.request.requestUri }) }}#}
        {#</div>#}
    {#{% endblock %}#}
    <div class="container">
        <div class="row">
                <div class="col-md-9">
                    <article >

                        <h1 class="text-left">{{ blog.title }}</h1>
                        <div style="margin-bottom: 10px;">
                        <span style="font-style: italic; color: #b1b1b1;"><i class="fa fa-clock-o" aria-hidden="true" style="color: #8598ff;"></i> {{ blog.created|date('d/m/Y') }}</span>
                        <span class="sonata-blog-post-comments-count"><i class="fa fa-comment-o" aria-hidden="true" style="margin-left: 10px; color: #8598ff;"></i> {{ blog.comments|length }}</span>
                        <span class="sonata-blog-post-author" style="font-style: Italic;"><i class="fa fa-user-o" aria-hidden="true" style="margin-left: 10px; color: #8598ff;"></i> {{ blog.author }}</span>
                        </div>

                            {#{{ blog.description }}#}
                        <div class="blog">

                        {#<img src="{{ asset(['images/', blog.image]|join) }}" alt="{{ blog.title }} image not found" class="large" />#}
                        <div style="margin-top: 20px;">
                            <div class="text-center">
                            {% media blog.image, 'small' %}
                            </div>
                            <p style="margin-top: 30px;">{{ blog.blog | raw }}</p>
                        </div>

                            <div class="blog-flex" style="margin-top: 30px;">
                                <div class="sonata-blog-post-information">
                                    <div class="sonata-blog-post-tags">
                                        <i class="fa fa-tags" style="color: #8598ff;" aria-hidden="true"></i>
                                        {{ blog.tags }}
                                    </div>
                                </div>
                                <script src="//yastatic.net/es5-shims/0.0.2/es5-shims.min.js"></script>
                                <script src="//yastatic.net/share2/share.js"></script>
                                <div class="ya-share2" data-services="vkontakte,facebook,odnoklassniki,moimir,gplus,twitter"></div>
                            </div>




                        </div>

                    </article>



                    <section class="comments" id="comments">
                        <div class="sonata-blog-comment-container">
                            <h4>Комментарии:</h4>

                            {% include 'GobusgoGobusgoBundle:Blog:comment.html.twig' with { 'comments': comments } %}
                        </div>
                        {% for label, messages in app.flashes %}
                            {% for message in messages %}
                                <div class="alert alert-{{ label }}">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endfor %}
                        <h4>Добавить комментарий:</h4>
                        {{ render(controller('GobusgoGobusgoBundle:Comment:new',{ 'blog_id': blog.id })) }}
                    </section>

                    {#<article class="sonata-blog-post-container">#}



                        {#<h1 class="sonata-blog-post-title text-left">#}
                            {#{{ post.title }}#}
                            {#<a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">{{ post.title }}</a>#}
                            {#<span class="sonata-blog-post-author">{{ 'archive_author'|trans({'%author%': post.author }, 'SonataNewsBundle') }}</span>#}
                        {#</h1>#}
                        {#<div class="sonata-blog-post-date-container">#}
                            {#<h5 class="text-left" style="font-style: italic; color: #b1b1b1;">#}
                                {#<i class="fa fa-clock-o" aria-hidden="true" style="color: #8598ff;"></i>#}
                                {#{{ post.publicationDateStart | format_date }}#}
                            {#</h5>#}
                        {#</div>#}




                        {#<div class="sonata-blog-post-content">#}
                            {#{% media post.image, 'wide' %}#}
                            {#<div>{{ post.content|raw }}</div>#}

                            {#<script src="//yastatic.net/es5-shims/0.0.2/es5-shims.min.js"></script>#}
                            {#<script src="//yastatic.net/share2/share.js"></script>#}
                            {#<div class="blog-flex" style="margin-top: 30px;">#}
                                {#<div class="sonata-blog-post-information">#}
                                    {#<div class="sonata-blog-post-tag-container">#}
                        {#<span class="sonata-blog-post-tag-list">#}
                        {#{% for tag in post.tags %}#}
                            {#<a style="color: #8598ff; font-style: italic;" href="{{ url('sonata_news_tag', { 'tag': tag.url } ) }}">{{ tag.name }}</a>#}
                        {#{% endfor %}#}
                    {#</span>#}
                                    {#</div>#}
                                {#</div>#}

                                {#<span class="ya-share2" data-services="collections,vkontakte,facebook,odnoklassniki,moimir,gplus,twitter,viber,whatsapp,skype,telegram"></span>#}
                            {#</div>#}

                        {#</div>#}

                        {#{{ render(controller('SonataNewsBundle:Post:comments', {'postId': post.id})) }}#}

                        {#{% if post.iscommentable %}#}
                            {#{{ render(controller('SonataNewsBundle:Post:addCommentForm', {#}
                                {#'postId': post.id,#}
                                {#'form': form#}
                            {#})) }}#}
                        {#{% else %}#}
                            {#<div>#}
                                {#{{ 'message_comments_are_closed'|trans({}, 'SonataNewsBundle') }}#}
                            {#</div>#}
                        {#{% endif %}#}
                    {#</article>#}
                </div>
            </div>
        </div>
    </div>
{% endblock %}